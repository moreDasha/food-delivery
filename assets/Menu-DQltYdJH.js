import{r as a,j as s,c as _,L as h,T as x,E as j,a as g,b as f,A as y}from"./index-BDnBXrOh.js";const N="_menu_24q31_1",i={menu:N,"menu-header":"_menu-header_24q31_7","menu-main":"_menu-main_24q31_13"},d={"input-search-wrap":"_input-search-wrap_1x1f1_1","input-search":"_input-search_1x1f1_1","input-search-icon":"_input-search-icon_1x1f1_21"},v=a.forwardRef(function({...n},e){return s.jsxs("div",{className:d["input-search-wrap"],children:[s.jsx("span",{className:d["input-search-icon"],children:s.jsx("img",{src:"img/icons/search.svg",alt:"search icon"})}),s.jsx("input",{className:_(d["input-search"]),ref:e,...n})]})}),t={"product-card":"_product-card_1yodr_1","product-link":"_product-link_1yodr_5","product-img":"_product-img_1yodr_16","product-price":"_product-price_1yodr_26","product-cart-btn":"_product-cart-btn_1yodr_27","product-rating":"_product-rating_1yodr_28","product-info":"_product-info_1yodr_80","product-name":"_product-name_1yodr_88","product-composition":"_product-composition_1yodr_92"},w=c=>s.jsxs("div",{className:t["product-card"],children:[s.jsxs(h,{to:`/product/${c.id}`,className:t["product-link"],children:[s.jsxs("div",{className:t["product-img"],children:[s.jsx("img",{src:c.img,alt:"food photo"}),s.jsxs("div",{className:t["product-price"],children:[c.price," ",s.jsx("span",{children:"₽"})]}),s.jsxs("div",{className:t["product-rating"],children:[c.rating,s.jsx("span",{children:s.jsx("img",{src:"img/icons/star.svg",alt:"star icon"})})]})]}),s.jsxs("div",{className:t["product-info"],children:[s.jsx("p",{className:t["product-name"],children:c.name}),s.jsx("p",{className:t["product-composition"],children:c.composition})]})]}),s.jsx("button",{className:t["product-cart-btn"],children:s.jsx("span",{children:s.jsx("img",{src:"img/icons/cart-white.svg",alt:"cart icon"})})})]});function E(){const[c,n]=a.useState([]),[e,o]=a.useState(!1),[u,p]=a.useState(),m=async()=>{try{o(!0),await new Promise(l=>{setTimeout(()=>{l()},1500)});const{data:r}=await f.get("https://moredasha.github.io/food-delivery/backend/products.json");n(r),o(!1)}catch(r){console.error(r),r instanceof y&&p(r.message),o(!1);return}};return a.useEffect(()=>{m()},[]),s.jsxs("div",{className:i.menu,children:[s.jsxs("div",{className:i["menu-header"],children:[s.jsx(x,{children:"Меню"}),s.jsx(v,{placeholder:"Введите блюдо или состав"})]}),u&&s.jsx(j,{text:u}),e&&s.jsx(g,{text:"Загружаем меню"}),!e&&s.jsx("div",{className:i["menu-main"],children:c.map(r=>s.jsx(w,{id:r.id,name:r.name,composition:r.composition,price:r.price,rating:r.rating,img:r.img},r.id))})]})}export{E as Menu,E as default};
